# TODO: we should also check for CPT mappings

visit_concept_id:
  value:

    8863:
      # is this an inpatient visit?
      display: Skilled Nursing Facility #some possible
      fhir_mappings:
        - resourceType: Encounter
          class:
            # http://hl7.org/fhir/R4/v3/ActEncounterCode/vs.html#expansion
            code: AMB
            display: ambulatory
            system: http://terminology.hl7.org/CodeSystem/v3-ActCode
          type:
            coding:
              # https://browser.ihtsdotools.org/?perspective=full&conceptId1=207195004
              - code: 207195004
                display: History and physical examination with evaluation and management of nursing facility patient
                system: http://snomed.info/sct

    9202:
      display: Outpatient Visit
      fhir_mappings:
        - resourceType: Encounter
          class:
            # http://hl7.org/fhir/R4/v3/ActEncounterCode/vs.html#expansion
            code: AMB
            display: ambulatory
            system: http://terminology.hl7.org/CodeSystem/v3-ActCode
          type:
            coding:
              # https://browser.ihtsdotools.org/?perspective=full&conceptId1=108219001
              - code: 108219001
                display: Physician visit with evaluation AND/OR management service
                system: http://snomed.info/sct

    9203:
      display: Emergency Room Visit
      fhir_mappings:
        - resourceType: Encounter
          class:
            # http://hl7.org/fhir/R4/v3/ActEncounterCode/vs.html#expansion
            code: EMER
            display: emergency
            system: http://terminology.hl7.org/CodeSystem/v3-ActCode
          type:
            coding:
              # https://browser.ihtsdotools.org/?perspective=full&conceptId1=4525004
              - code: 4525004
                display: Emergency department patient visit
                system: http://snomed.info/sct

    262:
      display: Emergency Room and Inpatient Visit
      fhir_mappings:
        - resourceType: Encounter
          class:
            # http://hl7.org/fhir/R4/v3/ActEncounterCode/vs.html#expansion
            code: IMP
            display: inpatient encounter
            system: http://terminology.hl7.org/CodeSystem/v3-ActCode
          classHistory:
            - class:
                # http://hl7.org/fhir/R4/v3/ActEncounterCode/vs.html#expansion
                code: EMER
                display: emergency
                system: http://terminology.hl7.org/CodeSystem/v3-ActCode
              # TODO: need a period since cardinality is 1..1
              period:
          type:
            - coding:
                # https://browser.ihtsdotools.org/?perspective=full&conceptId1=86181006
                - code: 86181006
                  display: Evaluation and management of inpatient
                  system: http://snomed.info/sct
            - coding:
                # https://browser.ihtsdotools.org/?perspective=full&conceptId1=4525004
                - code: 4525004
                  display: Emergency department patient visit
                  system: http://snomed.info/sct

    9201:
      display: Inpatient Visit
      fhir_mappings:
        - resourceType: Encounter
          class:
            # http://hl7.org/fhir/R4/v3/ActEncounterCode/vs.html#expansion
            code: IMP
            display: inpatient encounter
            system: http://terminology.hl7.org/CodeSystem/v3-ActCode
          type:
            - coding:
                # https://browser.ihtsdotools.org/?perspective=full&conceptId1=86181006
                - code: 86181006
                  display: Evaluation and management of inpatient
                  system: http://snomed.info/sct
